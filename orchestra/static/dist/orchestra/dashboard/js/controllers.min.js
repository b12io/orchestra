!function(){"use strict";function t(t,e,s,n){var a=this;a.tasks={pending:[],returned:[],in_progress:[],completed:[]},a.new_tasks=void 0,a.numActiveTasks=function(){var t=0;for(var e in a.tasks)"complete"!=e&&(t+=a.tasks[e].length);return t},a.waiting=!1,a.activate=function(){a.waiting=!0,e.get("/orchestra/api/interface/dashboard_tasks/").success(function(t,e,s,n){a.tasks=t.tasks,a.preventNewTasks=t.preventNewTasks,a.reviewerStatus=t.reviewerStatus,a.waiting=!1}).error(function(t,e,s,n){a.waiting=!1})},a.newTask=function(t){a.noTaskTimer||(a.noTaskTimer="temp",e.get("/orchestra/api/interface/new_task_assignment/"+t+"/").success(function(t,e,n,i){s.path("task/"+t.id),a.noTaskTimer=void 0}).error(function(t,e,s,i){a.new_tasks=0,a.noTaskTimer=n(function(){a.noTaskTimer=void 0,a.new_tasks=void 0},15e3)}))},a.activate()}angular.module("orchestra.dashboard.controllers").controller("DashboardController",t),t.$inject=["$scope","$http","$location","$timeout"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yY2hlc3RyYS9kYXNoYm9hcmQvanMvY29udHJvbGxlcnMuanMiXSwibmFtZXMiOlsiRGFzaGJvYXJkQ29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiJGxvY2F0aW9uIiwiJHRpbWVvdXQiLCJ2bSIsInRoaXMiLCJ0YXNrcyIsInBlbmRpbmciLCJyZXR1cm5lZCIsImluX3Byb2dyZXNzIiwiY29tcGxldGVkIiwibmV3X3Rhc2tzIiwidW5kZWZpbmVkIiwibnVtQWN0aXZlVGFza3MiLCJudW1UYXNrcyIsInRhc2tUeXBlIiwibGVuZ3RoIiwid2FpdGluZyIsImFjdGl2YXRlIiwiZ2V0Iiwic3VjY2VzcyIsImRhdGEiLCJzdGF0dXMiLCJoZWFkZXJzIiwiY29uZmlnIiwicHJldmVudE5ld1Rhc2tzIiwicmV2aWV3ZXJTdGF0dXMiLCJlcnJvciIsIm5ld1Rhc2siLCJub1Rhc2tUaW1lciIsInBhdGgiLCJpZCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDRSxZQVFBLFNBQVNBLEdBQW9CQyxFQUFRQyxFQUFPQyxFQUFXQyxHQUNyRCxHQUFJQyxHQUFLQyxJQUVURCxHQUFHRSxPQUNEQyxXQUNBQyxZQUNBQyxlQUNBQyxjQUVGTixFQUFHTyxVQUFZQyxPQUNmUixFQUFHUyxlQUFpQixXQUNsQixHQUFJQyxHQUFXLENBQ2YsS0FBSyxHQUFJQyxLQUFZWCxHQUFHRSxNQUNOLFlBQVpTLElBQ0ZELEdBQVlWLEVBQUdFLE1BQU1TLEdBQVVDLE9BR25DLE9BQU9GLElBRVRWLEVBQUdhLFNBQVUsRUFFYmIsRUFBR2MsU0FBVyxXQUNaZCxFQUFHYSxTQUFVLEVBQ2JoQixFQUFNa0IsSUFBSSw2Q0FDVkMsUUFBUSxTQUFTQyxFQUFNQyxFQUFRQyxFQUFTQyxHQUN0Q3BCLEVBQUdFLE1BQVFlLEVBQUtmLE1BQ2hCRixFQUFHcUIsZ0JBQWtCSixFQUFLSSxnQkFDMUJyQixFQUFHc0IsZUFBaUJMLEVBQUtLLGVBQ3pCdEIsRUFBR2EsU0FBVSxJQUVmVSxNQUFNLFNBQVNOLEVBQU1DLEVBQVFDLEVBQVNDLEdBQ3BDcEIsRUFBR2EsU0FBVSxLQUlqQmIsRUFBR3dCLFFBQVUsU0FBU2IsR0FJZlgsRUFBR3lCLGNBRU56QixFQUFHeUIsWUFBYyxPQUNqQjVCLEVBQU1rQixJQUFJLGdEQUFrREosRUFBVyxLQUN2RUssUUFBUSxTQUFTQyxFQUFNQyxFQUFRQyxFQUFTQyxHQUN0Q3RCLEVBQVU0QixLQUFLLFFBQVVULEVBQUtVLElBQzlCM0IsRUFBR3lCLFlBQWNqQixTQUVuQmUsTUFBTSxTQUFTTixFQUFNQyxFQUFRQyxFQUFTQyxHQUNwQ3BCLEVBQUdPLFVBQVksRUFFZlAsRUFBR3lCLFlBQWMxQixFQUFTLFdBQ3hCQyxFQUFHeUIsWUFBY2pCLE9BQ2pCUixFQUFHTyxVQUFZQyxRQUNkLFVBS1RSLEVBQUdjLFdBaEVMYyxRQUNHQyxPQUFPLG1DQUNQQyxXQUFXLHNCQUF1Qm5DLEdBRXJDQSxFQUFvQm9DLFNBQVcsU0FBVSxRQUFTLFlBQWEiLCJmaWxlIjoib3JjaGVzdHJhL2Rhc2hib2FyZC9qcy9jb250cm9sbGVycy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnb3JjaGVzdHJhLmRhc2hib2FyZC5jb250cm9sbGVycycpXG4gICAgLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBEYXNoYm9hcmRDb250cm9sbGVyKTtcblxuICBEYXNoYm9hcmRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCcsICckbG9jYXRpb24nLCAnJHRpbWVvdXQnXTtcblxuICBmdW5jdGlvbiBEYXNoYm9hcmRDb250cm9sbGVyKCRzY29wZSwgJGh0dHAsICRsb2NhdGlvbiwgJHRpbWVvdXQpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgdm0udGFza3MgPSB7XG4gICAgICAncGVuZGluZyc6IFtdLFxuICAgICAgJ3JldHVybmVkJzogW10sXG4gICAgICAnaW5fcHJvZ3Jlc3MnOiBbXSxcbiAgICAgICdjb21wbGV0ZWQnOiBbXVxuICAgIH07XG4gICAgdm0ubmV3X3Rhc2tzID0gdW5kZWZpbmVkO1xuICAgIHZtLm51bUFjdGl2ZVRhc2tzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbnVtVGFza3MgPSAwO1xuICAgICAgZm9yICh2YXIgdGFza1R5cGUgaW4gdm0udGFza3MpIHtcbiAgICAgICAgaWYgKHRhc2tUeXBlICE9ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICBudW1UYXNrcyArPSB2bS50YXNrc1t0YXNrVHlwZV0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtVGFza3M7XG4gICAgfTtcbiAgICB2bS53YWl0aW5nID0gZmFsc2U7XG5cbiAgICB2bS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdm0ud2FpdGluZyA9IHRydWU7XG4gICAgICAkaHR0cC5nZXQoJy9vcmNoZXN0cmEvYXBpL2ludGVyZmFjZS9kYXNoYm9hcmRfdGFza3MvJykuXG4gICAgICBzdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIHZtLnRhc2tzID0gZGF0YS50YXNrcztcbiAgICAgICAgdm0ucHJldmVudE5ld1Rhc2tzID0gZGF0YS5wcmV2ZW50TmV3VGFza3M7XG4gICAgICAgIHZtLnJldmlld2VyU3RhdHVzID0gZGF0YS5yZXZpZXdlclN0YXR1cztcbiAgICAgICAgdm0ud2FpdGluZyA9IGZhbHNlO1xuICAgICAgfSkuXG4gICAgICBlcnJvcihmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICB2bS53YWl0aW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdm0ubmV3VGFzayA9IGZ1bmN0aW9uKHRhc2tUeXBlKSB7XG4gICAgICAvLyBUbyBhbGxvdyB1c2VycyB0byByZWFkIHRoZSBcIm5vIHRhc2tzIGxlZnRcIiBtZXNzYWdlIHdoaWxlIGRlYm91bmNpbmdcbiAgICAgIC8vIGZ1cnRoZXIgY2xpY2tzLCB3ZSBsZWF2ZSB0aGUgbWVzc2FnZSB1cCBmb3IgMTUgc2Vjb25kcyBiZWZvcmUgcmVtb3ZpbmdcbiAgICAgIC8vIGl0IGFuZCByZS1lbmFibGluZyB0aGUgYnV0dG9uc1xuICAgICAgaWYgKCF2bS5ub1Rhc2tUaW1lcikge1xuICAgICAgICAvLyBJbml0aWFsaXplIHRhc2sgdGltZXIgdG8gZHVtbXkgdmFsdWUgdG8gcHJldmVudCBzdWJzZXF1ZW50IEFQSSBjYWxsc1xuICAgICAgICB2bS5ub1Rhc2tUaW1lciA9ICd0ZW1wJztcbiAgICAgICAgJGh0dHAuZ2V0KCcvb3JjaGVzdHJhL2FwaS9pbnRlcmZhY2UvbmV3X3Rhc2tfYXNzaWdubWVudC8nICsgdGFza1R5cGUgKyAnLycpLlxuICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ3Rhc2svJyArIGRhdGEuaWQpO1xuICAgICAgICAgIHZtLm5vVGFza1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9KS5cbiAgICAgICAgZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICB2bS5uZXdfdGFza3MgPSAwO1xuICAgICAgICAgIC8vIFJhdGUgbGltaXQgYnV0dG9uLWNsaWNraW5nXG4gICAgICAgICAgdm0ubm9UYXNrVGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLm5vVGFza1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdm0ubmV3X3Rhc2tzID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0sIDE1MDAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmFjdGl2YXRlKCk7XG4gIH1cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
